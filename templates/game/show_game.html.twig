{% extends 'base.html.twig' %}

{% block body %}

    <div class="row">
        <div class="col-8">
            Cartes de l'adversaire
            {% for card in set.user2HandCards %}
                {# <img src="{{ asset('cartes/'~cards[card].picture) }}"> #}
                <span style="border: 1px solid black; margin:3px; padding:5px">
                {{ cards[card].number }}
            </span>
            {% endfor %}
        </div>
        <div class="col-4">
            Actions
        </div>
    </div>
    <div class="row">
        Plateau adversaire
    </div>
    <div class="row">
        {% for i in 1..7 %}
            <div class="col-1">
                <span style="border: 1px solid black; margin:3px; padding:5px">
                    {{ i }}
                </span>
            </div>
        {% endfor %}

    </div>
    <div class="row">
        Mon Plateau
    </div>
    <div class="row">
        <div class="col-8">
            {% for card in set.user1HandCards %}
                {# <img src="{{ asset('cartes/'~cards[card].picture) }}"> #}
                <span style="border: 1px solid black; margin:3px; padding:5px">
                {{ cards[card].number }}
                    <input type="radio" name="carte_secret" value="{{ card }}"
                           style="display: none"
                           class="choixSecret">
                </span>
            {% endfor %}
        </div>
        <div class="col-4">
            Mes Actions
            <button id="secret">Secret</button>
            <button  id="depot">Depot</button>
            <button  id="offre">Offre</button>
            <button  id="echange">Echange</button><br>
            <button id="valider" style="display: none">Valider action</button>
        </div>
    </div>



{% endblock %}

{% block title %}

{% endblock %}

{% block javascripts %}
<script>
  let action
    $(document).on('click', '#secret', function(){
      console.log('secret')
      action = 'secret' //m√©morise l'action en cours
      $('.choixSecret').show()
      $('#valider').show()
    })

    $(document).on('click', '#valider', function(){
      switch (action) {
        case 'secret':
            donneesAction = {
              action: 'secret',
              carte: $('input[name="carte_secret"]:checked').val()
            }
          break;
        case 'depot':

          break;
        case 'offre':

          break;
        case 'echange':

          break;
      }

      $.ajax({
        url: "{{ path('action_game', {game: game.id}) }}",
        data: donneesAction,
        method: 'POST',
        success: function() {

        },
        error: function(){

        }
      })
    })
</script>
{% endblock %}
